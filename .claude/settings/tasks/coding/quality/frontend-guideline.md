# 前提の概念

## 開発全体の基本方針

- モバイルファーストで構築し、たとえデザイン指示がなくてもスマホ・PC両方のレイアウトを考慮する。
- パフォーマンス最適化を意識し、画像やファイルの圧縮・遅延読み込みを導入。
- コードの可読性と保守性を重視し、コメントやドキュメントを適切に整備。
- 不要なコードやスタイルは定期的にクリーンアップし、軽量化を図る。
- 意味のある画像には `<img>` や `<picture>` タグを使用。意味のない装飾画像は CSS の `background-image` で実装。
- すべてのデバイスで使えるフォントは存在しない。iOS, Android, Mac, Windows の最新2バージョンで利用可能なフォントを優先順位づけて決定。サイト全体の方針とし、個々のプロジェクトでは対応不要。デザインファイルと完全一致しない場合も許容。

## セマンティック HTML

- 要素は意味に基づいて選択する（例: `<header>`, `<nav>`, `<main>`, `<footer>`）。
- `<div>` や `<span>` の乱用を避け、構造的な意味を持つタグを優先。
- 見出しタグ (`<h1>` ~ `<h6>`) は文書構造を反映し、順序を守る。
- `h1` は1ページに1回のみ使用し、ページの主要なタイトルを表現。
- リストには適切なタグを使用する（`<ul>`/`<ol>`/`<li>`）。
- 強調には `<strong>` や `<em>` を使い、スタイル目的でタグを乱用しない。
- 画像には必ず `alt` 属性を指定する。
- リンクにはテキストの意味が伝わるよう、具体的な文言を設定（例: 「こちら」ではなく「利用規約を読む」）。

### ex. 
#### NGパターン
```
<html>
<head>
</head>
<body>
  <div>
    <span>タイトルテキスト</span>
  </div>
  <div>
    <div class="section">
      <div>コンテンツの<span class="important">タイトル</span></div>
      <div>
        コンテンツの内容です。<br />
        コンテンツの内容です。<br />
        コンテンツの内容です。<br />
        コンテンツの内容です。<br />
        コンテンツの内容です。
      </div>
    </div>
  </div>
</body>
</html>
```

#### OKパターン
```
<html>
<head>
</head>
<body>
  <header>
    <h1>タイトルテキスト</h1>
  </header>
  <main>
    <section class="section">
      <h2>コンテンツの<em>タイトル</em></h2>
      <p>
        コンテンツの内容です。<br />
        コンテンツの内容です。<br />
        コンテンツの内容です。<br />
        コンテンツの内容です。<br />
        コンテンツの内容です。
      </p>
    </section>
  </main>
</body>
</html>
```

## SEO の基本方針

- 適切な見出し階層を保持する（`<h1>` は1ページに1回まで）。
- `meta`タグでタイトル、ディスクリプション、OGPタグを最適化。
- 画像には `alt` 属性を必ず指定。
- パフォーマンス向上のため、画像やファイルは適切に圧縮。
- パンくずリスト（breabcrumb）を実装し、クローラビリティを向上。
- 内部リンク構造を最適化し、関連性の高いページをつなぐ。

## CSS 設計の基本方針

- BEM, FLOCSS などの設計手法を採用し、クラス名に一貫性を持たせる。（個々のプロジェクトでは、その環境の方針に合わせて一貫性をもたせる）
- グローバルなスタイルは最小限にし、コンポーネント単位で管理。
- レスポンシブデザインを考慮し、モバイルファーストで設計。
- フォントサイズ、カラーは変数化し、再利用性を高める。
- figmaなどのデザインツールが吐き出したCSSをコピペするときは、必ず不要なもの（font-familyなど）がないか確認するのと、すでにそのパーツがないかを確認、また数値は変数化する。

### 単位とスケール（Units & Scales）

#### 基本方針

- **文章（本文・見出しのフォントサイズ）**: `rem` を使う  
- **パーツ（コンポーネントの寸法・余白・枠線など）**: `px` を使う  
- **小数点pxは禁止**（`12.5px` などは不可。整数 `px` のみ）  
- **フォントサイズの `vw` 指定は禁止**（ビューポート依存の可読性劣化を避ける）

#### なぜ？

- `rem` はユーザーやOSのアクセシビリティ設定に追従し、**可読性と拡大縮小**に強い。  
- レイアウト寸法は `px` の方が**予測可能でデザイン再現に強い**。  
- 小数点 `px` は端末DPRやレンダラー差で**滲み/ズレ**が起きやすい。  
- `vw` フォントは**極端な画面幅**で可読性が崩れる（極小/極大）。

# HTML/CSS アンチパターンと回避策

- **自ドメインの絶対パス参照:** HTMLにしろCSSにしろ、自ドメインのファイルを読み込む際に、絶対パスにしてしまうとProductionとStagingで環境を分けることが困難になる。ローカルも別対応必要になるので、自ドメインのファイルは必ず相対パスで参照する。（OGP画像は絶対パスが必須なので例外）
- **IDセレクタの乱用:** 特異性が高く再利用性が低下するため、クラスセレクタを優先。
- **インラインスタイルの多用:** 保守性が低下するので、スタイルは外部ファイルにまとめる。
- **固定幅・高さの指定:** レスポンシブ性を損なうため、`flex` や `grid` を活用し、柔軟なレイアウトを組む。
  - `height` の `px` 指定は避け、`min-height`, `max-height`, `vh` を使用するか、`padding` や `margin` で適切な値を設定しなりゆきでその高さになることが望ましい。
  - `width` は固定幅を使うことはできるだけ避けるべきだが、ただゼロにはできない。（`table` や `flex` で一要素は固定幅にして他はなりゆきにしたい場合や、`absolute` や `fixed` の要素の場合など。）
- **全要素の一括リセットなし:** 必要なリセットやノーマライズは厳選し、最低限のリセットCSSを導入。
- **深いネスト構造:** CSSのネストが深くなると可読性・保守性が低下。2〜3階層以内に収める。前提としてHTMLと全く同じ構造にはするべきではないという意識を持つことが大事。
- **!important の乱用:** 例外的な場合（外部ライブラリのスタイルを上書きする場合など）を除き使用を避け、特異性を設計段階で調整。
- **マジックナンバー:** 数値が直感的でない調整（例: `margin: 13px;`）は、柔軟なスペーシングシステムや変数に置き換え。実際にデザインファイルがそのようになっている場合はすぐにデザイナーに相談し意図を確認し、意図通りの場合のみ例外でそのサイズを使う。
- **未使用スタイルの蓄積:** 不要になったCSSは定期的に整理し、読み込みファイルを軽量化。
- **generalすぎるclass名:** .contentや.wrapper、.listなど、あまりにもgeneralなclass名は、用途が不明な上に、典型的なグローバル汚染につながるため避ける。
- **font-familyの指定:** font-familyはデザイン的な装飾の意味合いがある箇所以外は、bodyタグ等の親のタグで一括指定をするのが普通。途中で変わったりすると大変なことになるし、そこだけfontが変わるのも変なので個別に指定すべきものではない。
- **CSSでの複雑な図形表現:** 複雑な図形や高精度なレンダリング（アイコン・円・曲線など）をCSSで無理に表現しようとすると、アンチエイリアスの不安定さや環境依存による再現性の低下が起きやすい。再現性・精度・保守性を重視し、こうした表現にはSVGを使用する。再利用性がある場合はComponent化＋CSS変数で色などを制御する。


